<form name="editForm" role="form" novalidate ng-submit="vm.save()">
    <div class="modal-header">
    	<h5 class="modal-title">Select a City or a City Group</h5>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                ng-click="vm.clear()">&times;</button>
    </div>
    <div class="modal-body">
    	<uib-tabset active="activeForm">
			<uib-tab heading="Cities" ng-click="vm.selectTab('city')">
						
		      	<div class="clearfix mb1 mt2">
		      		<div class="pull-left ph5px w50">
      					<div class="form-group">
							<label>Select the column name to search</label>
							<select class="form-control" ng-model="vm.option.searchType" ng-change="vm.search()">
								<option value="cityCode">City Code</option>
								<option value="cityName">City Name</option>
								<option value="countryCode">Country Code</option>
								<option value="countryName">Country Name</option>
							</select>																
						</div>
						<div class="form-group">
							<label>Enter Search String</label>
							<input type="text" name="search" ng-change="vm.search()" class="form-control" ng-model="vm.option.search">																
						</div>
					</div>      		
		      	</div>
		      	<div class="box-detail">
      				<div class="box-header">List Cities</div>	
      				<div class="box-body">
      					<div class="table-wrapper">
							<div class="datatable-wrapper form-inline">
								<div class="table-responsive">
									<table class="table table-stripped table-bordered datatable">
										<thead>
											<tr role="row">
												<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1" ng-click="vm.sortType = 'cityName'; vm.sortReverse = !vm.sortReverse">
										            City Name
										            <span ng-show="vm.sortType == 'cityName' && !vm.sortReverse" class="fa fa-caret-down"></span>
										            <span ng-show="vm.sortType == 'cityName' && vm.sortReverse" class="fa fa-caret-up"></span>
												</th>
												<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1" ng-click="vm.sortType = 'cityCode'; vm.sortReverse = !vm.sortReverse">
										            City Code
										            <span ng-show="vm.sortType == 'cityCode' && !vm.sortReverse" class="fa fa-caret-down"></span>
										            <span ng-show="vm.sortType == 'cityCode' && vm.sortReverse" class="fa fa-caret-up"></span>
												</th>
												<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1" ng-click="vm.sortType = 'countryName'; vm.sortReverse = !vm.sortReverse">
										            Country Name
										            <span ng-show="vm.sortType == 'countryName' && !vm.sortReverse" class="fa fa-caret-down"></span>
										            <span ng-show="vm.sortType == 'countryName' && vm.sortReverse" class="fa fa-caret-up"></span>
												</th>
												<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1" ng-click="vm.sortType = 'countryCode'; vm.sortReverse = !vm.sortReverse">
										            Country Code
										            <span ng-show="vm.sortType == 'countryCode' && !vm.sortReverse" class="fa fa-caret-down"></span>
										            <span ng-show="vm.sortType == 'countryCode' && vm.sortReverse" class="fa fa-caret-up"></span>
												</th>
											</tr>
										</thead>
										<tbody>
											<tr role="row" ng-click="vm.rowHighlighted(city)" ng-class="{selected: city === vm.selectedRow}"
											class="datatable-row" ng-repeat="city in (vm.filteredCities = (vm.cities | filter:vm.option.search | orderBy:vm.sortType:vm.sortReverse)) track by $index">
												<td>
													{{city.cityName}}
												</td>
												<td>
													{{city.cityCode}}
												</td>
												<td>
													{{city.countryName}}
												</td>
												<td>
													{{city.countryCode}}
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
      				</div>		      				
      			</div>
			</uib-tab>
			<uib-tab heading="City Group" ng-click="vm.selectTab('cityGroup')">
				<div class="clearfix mb1 mt2">
		      		<div class="pull-left ph5px w50">      					
						<div class="form-group">
							<label>Enter Search String</label>
							<input type="text" name="search" ng-change="vm.searchCityGroup()" class="form-control" ng-model="vm.option.searchCityGroup">																
						</div>
					</div>      		
		      	</div>
		      	<div class="box-detail">
      				<div class="box-header">List City Groups</div>	
      				<div class="box-body">
      					<div class="table-wrapper">
							<div class="datatable-wrapper form-inline" ng-show="!vm.isLoading">
								<div class="table-responsive">
									<table class="table table-stripped table-bordered datatable">
										<thead>
											<tr role="row">
												<th class="sorting" tabindex="0" aria-controls="datatable-tabletools" rowspan="1" colspan="1">
										            City Group Code
												</th>
												<th>
													Description
												</th>
											</tr>
										</thead>
										<tbody>
											<tr role="row" 
											ng-click="vm.rowCityGroupHighlighted(cityGroup)" ng-class="{selected: cityGroup === vm.selectedCityGroupRow}"
											class="datatable-row" ng-repeat="cityGroup in (vm.filteredCities = (vm.cityGroup | filter:vm.option.searchCityGroup)) track by $index">
												<td>
													{{cityGroup.code}}
												</td>
												<td>
													{{cityGroup.description}}
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
      				</div>		      				
      			</div>
			</uib-tab>
		</uib-tabset>
   	</div>
    <div class="modal-footer">
    	<button type="submit" class="btn btn-secondary" ng-click="vm.select()" data-translate="entity.action.save">OK</button>
        <button type="button" ng-click="vm.clear()" class="btn btn-back" data-dismiss="modal">Close</button>
    </div>
</form>
